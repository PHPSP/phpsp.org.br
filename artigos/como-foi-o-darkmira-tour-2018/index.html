<!DOCTYPE html>
<html class="has-navbar-fixed-top">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="canonical" href="https://ravan.me/2019-07-09-como-foi-o-darkmira-tour-2018/" />
    <title>PHPSP | Como foi o Darkmira Tour 2018</title>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-7974451-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        
        gtag('config', 'UA-7974451-1');
    </script>

    <link rel="shortcut icon" href="/assets/images/phpsp/favicon.ico"/>
    <link rel="stylesheet" href="/assets/build/css/main.css?id=b46970f13028c511b4b2">
    <script defer src="/assets/build/js/main.js?id=09bbc832a3d0ac409ec2"></script>
</head>
<body>
<section id="app" class="section">
    <div class="container">
        <nav id="navbar" class="navbar has-shadow is-spaced is-fixed-top">
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-item" href="/">
                <img src="/assets/images/phpsp/phpsp.png" title="PHPSP" alt="PHPSP">
            </a>

                            <a class="navbar-item is-hidden-desktop" href="https://phpsp.org.br/feed.xml" target="_blank">
                    <img src="/assets/images/thirdparty/rss.png"
                         title="RSS" alt="RSS">
                </a>
                            <a class="navbar-item is-hidden-desktop" href="https://twitter.com/phpsp" target="_blank">
                    <img src="/assets/images/thirdparty/Twitter_Social_Icon_Circle_Color.png"
                         title="Twitter" alt="Twitter">
                </a>
                            <a class="navbar-item is-hidden-desktop" href="https://bit.ly/vem-pro-slack-phpsp" target="_blank">
                    <img src="/assets/images/thirdparty/SlackAppIcon.png"
                         title="Slack" alt="Slack">
                </a>
                            <a class="navbar-item is-hidden-desktop" href="https://t.me/phpsp" target="_blank">
                    <img src="/assets/images/thirdparty/telegram.png"
                         title="Telegram" alt="Telegram">
                </a>
            
            <div id="navbarBurger" class="navbar-burger burger" data-target="navMenuComunidade"
                 onclick="document.querySelector('.navbar-menu').classList.toggle('is-active'); document.querySelector('.navbar-burger').classList.toggle('is-active');">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>

        <div id="navMenuComunidade" class="navbar-menu">
            <div class="navbar-start">
                <div class="navbar-item has-dropdown is-hoverable">
                    <span class="navbar-link">A Comunidade</span>
                    <div id="moreDropdown" class="navbar-dropdown">
                        <a class="navbar-item " href="/a-comunidade">
                          <span>
                            <strong>A Comunidade PHPSP</strong>
                            <br>
                            O que √© a Comunidade PHPSP
                          </span>
                        </a>

                        <a class="navbar-item " href="/quem-e-a-comunidade">
                          <span>
                            <strong>Quem √© a Comunidade PHPSP</strong>
                            <br>
                            Quem √© a Comunidade PHPSP
                          </span>
                        </a>

                        <hr class="navbar-divider">

                        <a class="navbar-item " href="/codigo-de-conduta">
                          <span>
                            <strong>C√≥digo de Conduta</strong>
                            <br>
                            Codigo de conduta para a comunidade
                          </span>
                        </a>

                    </div>
                </div>

                <a class="navbar-item" href="/artigos">
                    <span>Artigos</span>
                </a>

                <div class="navbar-item has-dropdown is-hoverable">
                    <span class="navbar-link">Eventos</span>
                    <div id="moreDropdown" class="navbar-dropdown">
                                                <a class="navbar-item" href="https://www.meetup.com/php-sp/events/" target="_blank">
                          <span>
                            <strong>PHPSP S√£o Paulo</strong>
                            <br>
                            Eventos na cidade de SP
                          </span>
                        </a>
                                                <a class="navbar-item" href="https://www.meetup.com/phpsp-campinas/events/" target="_blank">
                          <span>
                            <strong>PHPSP Campinas</strong>
                            <br>
                            Eventos na cidade de Campinas
                          </span>
                        </a>
                                                <a class="navbar-item" href="https://www.meetup.com/phpsp-santos/events/" target="_blank">
                          <span>
                            <strong>PHPSP Santos</strong>
                            <br>
                            Eventos na cidade de Santos
                          </span>
                        </a>
                        
                        <hr class="navbar-divider">

                        <a class="navbar-item " href="/codigo-de-conduta-para-eventos">
                          <span>
                            <strong>C√≥digo de Conduta para Eventos</strong>
                            <br>
                            Codigo de conduta para a eventos da comunidade
                          </span>
                        </a>

                    </div>
                </div>

                <div class="navbar-item has-dropdown is-hoverable">
                    <span class="navbar-link">Como Contribuir</span>
                    <div id="moreDropdown" class="navbar-dropdown">
                        <a class="navbar-item" href="/como-contribuir">
                            <span>
                                <strong>Como contribuir?</strong>
                                <br>
                                Que contribuir com a comunidade PHP e n√£o sabe como? Saiba mais!
                              </span>
                        </a>

                        <hr class="navbar-divider">

                        <p class="navbar-item"><strong>Projetos apoiados pelo PHPSP:</strong></p>

                                                    <a class="navbar-item is-white-space-normal" href="https://github.com/PHPSP/php-the-right-way" target="_blank">
                              <span>
                                <strong>PHP The Right Way - BR</strong>
                                <br>
                                Uma refer√™ncia r√°pida de melhores pr√°ticas de PHP, renomados padr√µes de c√≥digo e links para tutoriais competentes pela Web
                              </span>
                            </a>
                                                    <a class="navbar-item is-white-space-normal" href="https://github.com/PHPSP/quero-palestrar" target="_blank">
                              <span>
                                <strong>Quero Palestrar</strong>
                                <br>
                                Reposit√≥rio de palestrantes e propostas de palestras para eventos de tecnologia
                              </span>
                            </a>
                                                    <a class="navbar-item is-white-space-normal" href="https://github.com/PHPSP/zf2-documentation-br" target="_blank">
                              <span>
                                <strong>ZF2 docs - BR</strong>
                                <br>
                                Tradu√ß√£o da Documenta√ß√£o Oficial do Zend Framework
                              </span>
                            </a>
                                            </div>
                </div>

            </div>

            <div class="navbar-end">
                                    <a class="navbar-item is-hidden-touch is-hidden-desktop-only"
                       href="https://phpsp.org.br/feed.xml" target="_blank">
                        <img src="/assets/images/thirdparty/rss.png"
                             title="RSS" alt="RSS">
                    </a>
                                    <a class="navbar-item is-hidden-touch is-hidden-desktop-only"
                       href="https://github.com/phpsp" target="_blank">
                        <img src="/assets/images/thirdparty/GitHub-Mark-120px-plus.png"
                             title="GitHub" alt="GitHub">
                    </a>
                                    <a class="navbar-item is-hidden-touch is-hidden-desktop-only"
                       href="https://twitter.com/phpsp" target="_blank">
                        <img src="/assets/images/thirdparty/Twitter_Social_Icon_Circle_Color.png"
                             title="Twitter" alt="Twitter">
                    </a>
                                    <a class="navbar-item is-hidden-touch is-hidden-desktop-only"
                       href="https://bit.ly/vem-pro-slack-phpsp" target="_blank">
                        <img src="/assets/images/thirdparty/SlackAppIcon.png"
                             title="Slack" alt="Slack">
                    </a>
                                    <a class="navbar-item is-hidden-touch is-hidden-desktop-only"
                       href="https://www.linkedin.com/company/phpsp---php-user-group-in-s-o-paulo/" target="_blank">
                        <img src="/assets/images/thirdparty/In-2C-128px-TM.png"
                             title="LinkedIn" alt="LinkedIn">
                    </a>
                                    <a class="navbar-item is-hidden-touch is-hidden-desktop-only"
                       href="https://facebook.com/phpsp" target="_blank">
                        <img src="/assets/images/thirdparty/flogo_RGB_HEX-144.png"
                             title="Facebook" alt="Facebook">
                    </a>
                                    <a class="navbar-item is-hidden-touch is-hidden-desktop-only"
                       href="https://t.me/phpsp" target="_blank">
                        <img src="/assets/images/thirdparty/telegram.png"
                             title="Telegram" alt="Telegram">
                    </a>
                            </div>
        </div>
    </div>
</nav>
        <nav class="breadcrumb" aria-label="breadcrumbs">
    <ul>
        <li><a href="/">PHPSP </a></li>

                    <li><a href="/artigos">Artigos</a></li>
        
        <li class="is-active"><a href="#" aria-current="page">Como foi o Darkmira Tour 2018</a></li>
    </ul>
</nav>            <section class="section">
        <div class="content">
            <h1 class="title is-1">Como foi o Darkmira Tour 2018</h1>
            <p>
                <small>
                    por Ravan Scafi
                    em 16/07/2019
                </small>
            </p>

            <p><img src="/assets/images/posts/como-foi-o-darkmira-tour-2018/darkmira2018.jpg" alt="P√∫blico do evento Darkmira Tour 2018." /></p>
<p>No come√ßo de junho rolou o
<a href="https://php.darkmiratour.rocks/2019/" rel="nofollow">Darkmira Tour 2019</a>, l√° em Fortaleza.
Infelizmente, n√£o consegui estar presente, mas na edi√ß√£o do ano passado tive
esse imenso prazer. O evento aconteceu nos dias 14 e 15 de abril de 2018, em
Bras√≠lia. Contou com mais de 20 palestrantes e alguns pain√©is. Acabei
encontrando recentemente minhas anota√ß√µes no fundo do <del>ba√∫</del> editor de texto,
ent√£o nesse post vou tentar dar uns <em>highlights</em> do que vi por l√°, espero que
gostem!</p>
<h2>Voc√™ √© um bom dev? - <a href="https://twitter.com/dianaarnos" rel="nofollow"><em>Diana Arnos</em></a></h2>
<p>Abrindo o evento, temos o keynote da Diana Arnos, que √© uma das evangelistas do
<a href="https://twitter.com/PHPWomenBR" rel="nofollow">PHPWomen</a>. Ela come√ßa a talk com um comparativo
entre j√∫nior e s√™nior.</p>
<h3>J√∫nior vs S√™nior</h3>
<p>Ela diz que tem j√∫nior que aprende muito r√°pido ao passo que existe s√™nior que
&quot;caga&quot; regra. A Diana j√° teve a experi√™ncia de entrevistar alguns devs que se
diziam s√™niores mas que n√£o sabiam muitas coisas b√°sicas e, nessa, n√£o eram
aprovados na contrata√ß√£o. O que mais diferencia um profissional na opini√£o dela
√© a <strong>resolu√ß√£o de problemas</strong>. Um j√∫nior tem a vontade de desenvolver, aquele
desespero de n√£o saber nada mas tentar correr atr√°s de todo mundo para resolver.
J√° um s√™nior tem uma tranquilidade maior e consegue investigar os problemas com
calma, seguindo um passo a passo e chegando at√© a resolu√ß√£o sem maiores
exalta√ß√µes.</p>
<h3>Boas pr√°ticas</h3>
<p>Por que se preocupar com boas pr√°ticas? PSRs, Calisthenics, etc. Segundo a
Diana, utilizar boas pr√°ticas indica qu√£o longe voc√™ foi no conhecimento da
linguagem e diz muito sobre voc√™, sobre aproveitar o potencial das ferramentas e
linguagem. Ela tamb√©m comenta sobre o ciclo de vida de um software, citando at√©
as culturas <em>Agile</em> e <em>DevOps</em>.</p>
<h3>Saiba preparar o seu ambiente</h3>
<p>Voc√™ sabe como sua aplica√ß√£o sobe? Ou voc√™ s√≥ executa um script que algum
<em>DevOps</em> do time te mandou? √â importante conhecer o sistema operacional, as
ferramentas do servidor, mesmo que apenas superficialmente.</p>
<p><strong>Virtualiza√ß√£o</strong> √© uma √≥tima forma de saber isolar as depend√™ncias da sua
aplica√ß√£o e garantir que seus projetos n√£o afetem seu ambiente local. Voc√™ pode
usar Virtual Box, PHPansible, Docker... (s√≥ n√£o subam o docker como <code>root</code>, por
favor! - ela apela)</p>
<h3>Controle de Vers√£o</h3>
<p>&quot;GIT! Quem usa <code>.zip</code> merece morrer.&quot; - Utilize o Git ou qualquer outra
ferramenta de controle de vers√£o. Voc√™ ter√° acesso a hist√≥rico, poder√° reverter
c√≥digos que j√° foram feitos, poder√° ter uma documenta√ß√£o do que foi feito e, de
quebra, tem um backup da l√≥gica da sua aplica√ß√£o.</p>
<blockquote>
<p>&quot;√â sabendo de onde vem que sei pra onde vai&quot;</p>
</blockquote>
<h3>Seguran√ßa</h3>
<p>A Diana comenta que qualquer informa√ß√£o que voc√™ exp√µe do seu sistema est√°
abrindo a potenciais falhas a serem exploradas. <strong>N√£o use IDs sequenciais</strong> para
mostrar aos usu√°rios. A coluna de ID do banco serve √∫nica e exclusivamente para
o banco. N√£o exponha essa informa√ß√£o ao usu√°rio. <strong>N√£o mostre a assinatura do
servidor e da linguagem</strong> nas requisi√ß√µes, √© muito f√°cil desabilitar isso e
evita que algum potencial atacante tenha de m√£o beijada que voc√™ est√° rodando
por exemplo <em>nginx</em> numa vers√£o espec√≠fica. <strong>Inputs devem ser validados</strong> e,
n√£o, n√£o estamos falando de validar (somente) no frontend, devemos validar os
dados do lado do servidor. Utilize tamb√©m <strong>Argon 2</strong> e <strong>libsodium</strong> que o PHP
tem suporte.</p>
<h3>Ferramentas</h3>
<p>A Diana reuniu em um slide algumas coisas que citou: Linux, Windows, Git,
GitHub, Virtual Box, Docker, Gecko, WebKit, Terminal, nginx, Apache, Ansible. E
que devemos nos lembrar que √© muita coisa para se dominar al√©m do
desenvolvimento em si e n√£o necessariamente um j√∫nior ou um estagi√°rio possuem
esse conhecimento.</p>
<h3>Dicas</h3>
<p><strong>DURMA</strong>, n√£o fique acordado de madrugada resolvendo problemas. A neuroci√™ncia
√© sua amiga. Quando voc√™ dorme, seu organismo consegue limpar as toxinas
acumuladas no seu c√©rebro. Esque√ßa desse status de que voc√™ √© um dev &quot;foda&quot;
porque ficou varado trabalhando.</p>
<p>Ainda em neuroci√™ncia, o <strong>pensamento focado</strong> √© o que j√° estamos acostumados,
que usamos para resolver problemas que j√° conhecemos e sabemos como atacar. Caso
estivermos em um problema que n√£o sabemos resolver, podemos relaxar, ir tomar um
banho, um caf√© e deixarmos o <strong>pensamento difuso</strong> agir, resolvendo os problemas
atrav√©s da liga√ß√£o de informa√ß√µes que talvez n√£o fizessem tanto sentido no
pensamento focado.</p>
<p>A <strong>pr√°tica cadenciada</strong>, como por exemplo, estudar todos os dias por 30
minutos, √© algo muito ben√©fico que at√© muda nosso c√©rebro.</p>
<h3>Open Source</h3>
<p>Como √∫ltima dica ela diz: <strong>fa√ßa open source</strong>!</p>
<p>Confira os slides no
<a href="https://speakerdeck.com/dianaarnos/voce-e-um-bom-dev" rel="nofollow">SpeakerDeck</a>.</p>
<h2>Investigando a sa√∫de de seu sistema atrav√©s de Logs - <a href="https://twitter.com/raph_almeida" rel="nofollow"><em>Raphael de Almeida</em></a></h2>
<p>Ap√≥s o keynote da Diana e o coffee-break/networking, escolhi ver a talk do
Raphael, j√° que contamos com duas trilhas no evento. Ele √© <em>community manager</em>
do PHPRio e veio falar sobre <strong>logs</strong>. Ele come√ßa citando Murphy:</p>
<blockquote>
<p>&quot;Qualquer coisa que possa dar errado, dar√° no pior momento poss√≠vel.&quot;</p>
<p><em>Edward A. Murphy</em></p>
</blockquote>
<p>E diz que quanto <strong>mais tempo</strong> um sistema fica <strong>inconsistente</strong>, <strong>piores</strong>
s√£o as <strong>consequ√™ncias</strong>.</p>
<p>Quem nunca desabilitou os logs do PHP e do Apache porque eles enchiam o disco do
servidor? - brinca Raphael. Erros no sistema deixam o usu√°rio frustrado em
rela√ß√£o √† aplica√ß√£o, podendo at√© fazer o mesmo desistir do uso por uma percep√ß√£o
de baixa confiabilidade.</p>
<p>Entre problemas de sa√∫de do sistema, o Raphael cita alguns casos:</p>
<ul>
<li>Ter <strong>inconsist√™ncia de dados</strong> √© um problema que nossa aplica√ß√£o pode sofrer
mas, num exemplo de um e-commerce, um pre√ßo muito fora da m√©dia poderia ser
detectado automaticamente.</li>
<li>Caso ocorra a <strong>exposi√ß√£o de vulnerabilidades</strong>, como um log de erro do de uma
query MySQl exposto, um atacante conseguiria coletar informa√ß√µes e montar o
ataque contra o sistema.</li>
</ul>
<p>Quando algum problema ocorrer, <strong>reproduza o erro em ambiente local</strong> ao inv√©s
de ficar fazendo em produ√ß√£o, tenha o ambiente local o mais pr√≥ximo poss√≠vel do
ambiente de produ√ß√£o. Aquela hist√≥ria de &quot;na minha m√°quina funciona&quot; pode
realmente acontecer, mesmo com o ambiente parecido. O problema √© que o contexto
espec√≠fico em que o bug aconteceu pode estar faltando. Por isso, um <strong>log</strong> √© um
<strong>di√°rio de acontecimentos</strong> que pode nos dar insights sobre o contexto em que a
aplica√ß√£o vive.</p>
<p>Uma dica para fazer logs √© <strong>escrever uma boa mensagem de erro</strong>, n√£o fa√ßa por
exemplo um log escrito <code>"Erro inesperado"</code>. Para escrever uma mensagem relevante
√© necess√°rio que o desenvolvedor tenha experi√™ncia, aprenda com quem est√°
acertando na escrita e evolua seus logs. Banco de dados, por exemplo, utilizam
c√≥digos de erro para facilitar a pesquisa de solu√ß√µes.</p>
<p>Os erros do PHP s√£o muito bons para descobrir que problemas estamos enfrentando.
Similarmente, os erros de framework cont√™m bastante informa√ß√µes relevantes. J√°
os c√≥digos de erro HTTP geralmente s√£o amb√≠guos ent√£o uma dica que o Raphael d√°
√© n√£o espelhar esses c√≥digos HTTP para explicar o contexto de erros dentro da
aplica√ß√£o.</p>
<h3>Contexto dos erros</h3>
<p>Quando e onde aconteceu o erro? Se temos mais de uma m√°quina, qual o ambiente e
o nome do host? Com o contexto certo, poderemos saber exatamente qual equipe √©
respons√°vel por resolver aquele problema.</p>
<p>√â uma boa ideia salvar informa√ß√µes sobre o usu√°rio logado, <em>primary keys</em>,
<em>stacktrace</em>, arquivo e linha onde o erro ocorreu, a requisi√ß√£o HTTP.</p>
<p>Seus logs precisam ser de f√°cil pesquisa e agrupamento.</p>
<p>Utilize os n√≠veis de criticidade dos Logs, que v√£o desde <code>DEBUG</code> at√©
<code>EMERGENCY</code>, seguindo por exemplo o
<em><a href="https://tools.ietf.org/html/rfc5424" rel="nofollow"><strong>RFC5424</strong> - The Syslog Protocol</a></em>,
utilizado pelo Linux.</p>
<table>
<thead>
<tr>
<th style="text-align: center;">N√≠vel</th>
<th style="text-align: center;">Criticidade</th>
<th style="text-align: left;">Uso indicado</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">DEBUG</td>
<td style="text-align: center;">Menos cr√≠tico</td>
<td style="text-align: left;">Mensagem para ajudar na depura√ß√£o</td>
</tr>
<tr>
<td style="text-align: center;">INFO</td>
<td style="text-align: center;">.</td>
<td style="text-align: left;">Eventos comuns</td>
</tr>
<tr>
<td style="text-align: center;">NOTICE</td>
<td style="text-align: center;">.</td>
<td style="text-align: left;">Eventos comuns, por√©m com certa relev√¢ncia</td>
</tr>
<tr>
<td style="text-align: center;">WARNING</td>
<td style="text-align: center;">.</td>
<td style="text-align: left;">Eventos que merecem uma certa aten√ß√£o</td>
</tr>
<tr>
<td style="text-align: center;">ERROR</td>
<td style="text-align: center;">.</td>
<td style="text-align: left;">Erros em tempo de execu√ß√£o</td>
</tr>
<tr>
<td style="text-align: center;">CRITICAL</td>
<td style="text-align: center;">.</td>
<td style="text-align: left;">Falha de servi√ßos externos ou m√≥dulos</td>
</tr>
<tr>
<td style="text-align: center;">ALERT</td>
<td style="text-align: center;">.</td>
<td style="text-align: left;">Falha que precisa de a√ß√£o imediata</td>
</tr>
<tr>
<td style="text-align: center;">EMERGENCY</td>
<td style="text-align: center;">Mais cr√≠tico</td>
<td style="text-align: left;">Sistema est√° fora</td>
</tr>
</tbody>
</table>
<p>No PHP, temos o <a href="https://www.php-fig.org/psr/psr-3/" rel="nofollow">PSR-3</a>, que √© seguido, por
exemplo, pelo <a href="https://github.com/Seldaek/monolog" rel="nofollow">Monolog</a>. Tamb√©m temos as
<strong>exce√ß√µes nativas</strong> do PHP, que seguem uma <strong>hierarquia</strong> e podem ser muito
√∫teis para as tratativas da nossa aplica√ß√£o. Em produ√ß√£o, n√£o devemos mostrar os
erros, configurando adequadamente o <code>php.ini</code>, por exemplo da seguinte forma:</p>
<pre><code class="language-ini">display_errors = Off
error_reporting = -1
log_errors = On
error_log = /var/log/app_error.log</code></pre>
<p>Podemos posterior fazer uma an√°lise desse log com <code>tail</code>:</p>
<pre><code class="language-bash">tail -f /var/log/app_error.log</code></pre>
<p>Isso funciona bem quando temos apenas um servidor, por√©m para mais de uma
m√°quina devemos agregar esses logs em um √∫nico local. Podemos usar uma
ferramenta como o <a href="https://www.splunk.com/" rel="nofollow">Splunk</a>, por exemplo. Outra √© o
<a href="https://www.elastic.co/products/kibana" rel="nofollow">Kibana</a>, que junto com o
<a href="https://www.elastic.co/products/elasticsearch" rel="nofollow">Elasticsearch</a> e o
<a href="https://www.elastic.co/products/logstash" rel="nofollow">Logstash</a> forma um ecossistema para
an√°lise e at√© mesmo predi√ß√£o de erros. Outras op√ß√µes tamb√©m incluem o<a href="https://www.graylog.org/" rel="nofollow">Graylog</a> e o
<a href="https://papertrailapp.com/" rel="nofollow">papertrail</a>.</p>
<h3>Dicas</h3>
<p>Antecipe problemas analisando seus logs, com notifica√ß√µes que podem vir por
slack, telegram, email, etc. Separe as responsabilidades para atribuir e
identificar erros corretamente. Tenha rotinas para ver logs n√£o cr√≠ticos. Fa√ßa
testes para reproduzir bugs e garantir que eles n√£o aconte√ßam mais. Entenda que
voc√™ pode ter problema de recursos, indisponibilidade de bancos de dados, rede,
sistema de arquivos e tente preparar sua aplica√ß√£o para pelo menos exibir
mensagens de erros coerentes nesses casos. Existem erros provocados por ataques
e tamb√©m por usu√°rios, que s√≥ est√£o tentando utilizar o sistema. <em>Queries</em>
lentas tamb√©m devem aparecer em logs, para que possamos atuar sobre elas.</p>
<p><a href="https://speakerdeck.com/raphaeldealmeida/investigando-a-saude-do-seu-sistema-atraves-de-logs" rel="nofollow">Clique aqui</a>
para ver os slides da apresenta√ß√£o do Raphael.</p>
<h2>PHP + Docker + ELK + React: Um case de sucesso - <a href="https://twitter.com/regisnew" rel="nofollow"><em>Rodrigo R√©gis Palmeira</em></a></h2>
<p>O Rodrigo, ou melhor, o R√©gis, √© chefe de desenvolvimento do
<a href="https://www.tc.df.gov.br/" rel="nofollow">Tribunal de Contas do Distrito Federal</a> (TCDF) e
trouxe o case que ele participou no trabalho. Em meados de 2017 foi levantada a
necessidade de uma melhoria no sistema de pesquisa textual do TCDF. O sistema de
pesquisa j√° existente utilizava <em>full text search</em> do SQL Server. Embora
funcionasse, a busca existente era limitada. O que os usu√°rios pediam,
basicamente, era uma busca similar a do Google. Ao analisar a possibilidade de
se utilizar a ferramenta
<a href="https://enterprise.google.com/search/" rel="nofollow">Google Search Appliance</a>, o custo seria
de 2,5 milh√µes de reais apenas para a configura√ß√£o que eles precisariam, sem
contar outros custos. Parecendo invi√°vel, foram atr√°s de outras solu√ß√µes,
estudando como outros governos estavam fazendo suas buscas at√© chegar no
<a href="https://www.elastic.co/products/elasticsearch" rel="nofollow">Elasticsearch</a>.</p>
<p>Assim, decidiram fazer uma implementa√ß√£o definindo que as tecnologias utilizadas
seriam todas open source. Uma delas √© o <a href="https://tika.apache.org/" rel="nofollow">Apache Tika</a>,
que extrai dados relevantes, como o texto, de diversos formatos de arquivos como
imagens, PDFs, etc. Os dados extra√≠dos pelo Tika s√£o enviados para o
<a href="https://www.elastic.co/products/logstash" rel="nofollow">Logstash</a>, ferramenta da Elastic que
recebe dados brutos, filtra, transforma e solta uma sa√≠da mais rica. Essa sa√≠da
√© ent√£o enviada para o Elasticsearch, onde os dados s√£o armazenados e podem ser
pesquisados com <em>queries</em> e outras diversas facilidades. Por fim, o
<a href="https://www.elastic.co/products/kibana" rel="nofollow">Kibana</a> √© uma interface plug√°vel no
Elasticsearch para pesquisas e que pode ser utilizado diretamente pelos
usu√°rios, por exemplo.</p>
<p>No backend dessa implementa√ß√£o, eles utilizaram, entre outras coisas,
<a href="https://symfony.com/" rel="nofollow">Symfony</a>, <a href="http://docs.guzzlephp.org/en/stable/" rel="nofollow">Guzzle</a>
e <a href="https://www.doctrine-project.org/" rel="nofollow">Doctrine</a>. J√° no frontend, decidiram por
<a href="https://reactjs.org/" rel="nofollow">React</a> com
<a href="https://reactjs.org/docs/introducing-jsx.html" rel="nofollow">JSX</a>. Tamb√©m decidiram adotar o
<a href="https://www.docker.com/" rel="nofollow">Docker</a>, que traz portabilidade, versionamento,
uniformidade, imutabilidade e diversas outras vantagens para o ambiente de
desenvolvimento e tamb√©m para o de produ√ß√£o.</p>
<p>O ecossistema anterior de busca tinha basicamente PHP com Apache no sistema
principal, banco SQL Server, um outro sistema para controle de acesso com PHP,
Symfony, Apache e um servidor para salvar e recuperar arquivos com as mesmas
tecnologias, juntamente com o <a href="https://www.samba.org/" rel="nofollow">Samba</a>.</p>
<p>Depois do desenvolvimento do novo ecossistema, que foi feito pelo R√©gis e outro
colega de trabalho, agora existem interfaces com APIs, tanto para o sistema
principal quanto para a busca. Tamb√©m existem m√°quinas para a busca dos
usu√°rios, m√°quinas para Logstash e Kibana, Elasticsearch, sendo a maioria delas
dentro do Docker e usando NGINX ao inv√©s do Apache.</p>
<p><img src="/assets/images/posts/como-foi-o-darkmira-tour-2018/ecossistema_elk.jpg" alt="O novo ecossistema de busca do TDCF" /></p>
<p><a href="https://busca.tc.df.gov.br" rel="nofollow">O projeto foi colocado no ar em dezembro de 2017, com uma interface muito pr√≥xima a do Google</a>.
O feedback dos usu√°rios foi muito positivo, com uma busca agora muito mais
completa e assertiva, sendo um belo case de sucesso desenvolvido em apenas tr√™s
meses, com um or√ßamento bem reduzido. O R√©gis ressalta que iniciativas de
governo como essa devem ser mostradas.</p>
<p>Em seguida, ele mostrou alguns dashboards feitos no Kibana para uso interno,
servindo tamb√©m como ferramenta de monitoria. Tamb√©m abriu
<a href="https://busca.tc.df.gov.br" rel="nofollow">a busca</a> ao vivo e mostrou seu funcionamento.</p>
<p>Como pr√≥ximos passos, eles percebem a necessidade da cria√ß√£o de um dicion√°rio de
sin√¥nimos no Elasticsearch, uma autentica√ß√£o com JWT e LDAP para pesquisas
restritas de uso interno, com sigilo. Outro passo √© a de fazer a busca ser um
PWA (Progressive Web App).</p>
<p>Clique
<a href="https://speakerdeck.com/regisnew/php-plus-docker-plus-elk-plus-react-um-case-de-sucesso" rel="nofollow">aqui</a>
para conferir os slides da apresenta√ß√£o.</p>
<h2>Stand-up do <a href="https://twitter.com/pokemaobr" rel="nofollow"><em>Pokemaobr</em></a></h2>
<p>Na volta do almo√ßo, a pedidos da &quot;comunidade&quot;, o pokemaobr fez mais um de seus
√≥timos stand-ups sobre a incr√≠vel vida de DEV. Eu sempre choro de rir, pois me
relaciono demais com as piadas que ele faz.</p>
<h2>On Being a Senior Engineer - <a href="https://twitter.com/sheeri" rel="nofollow"><em>Sheeri K. Cabral</em></a></h2>
<p>Em seguida tivemos mais um <em>keynote</em>, dessa vez com a Sheeri que √© <em>Senior
Database Engineer</em> e <em>MySQL Community Contributor</em>. Ela comenta que vai falar
mais ou menos sobre o tema que a Diana abordou, por√©m de uma forma um pouco
diferente.</p>
<h4>N√≠veis de senioridade</h4>
<p>Quando falamos dos n√≠veis de algu√©m, J√∫nior, S√™nior, etc., de forma b√°sica, os
colaboradores executam processos de escrita, criam novos processos e os
executam, tomam a iniciativa numa tarefa, lideram um projeto, fazer a
arquitetura de algo. O trabalho que fazemos pode ser em projetos pequenos, em
grandes projetos, pode envolver lideran√ßa, participa√ß√£o, fazer parte nas
especifica√ß√µes, etc. Autonomia √© algo que difere um pouco entre os n√≠veis.</p>
<p>√â muito importante ser parte de um time, ent√£o em muitos casos √© muito bom ter
um par para revisar seu c√≥digo, principalmente quando se √© j√∫nior. A Sheeri
ressalta que mesmo um s√™nior pode ter seu trabalho revisado, pois todos s√£o
pass√≠veis de erros. Duas cabe√ßas pensam melhor que uma.</p>
<h4>Prioriza√ß√£o</h4>
<p>Algo que s√™niors fazem √© priorizar o trabalho. J√° j√∫niors acabam pedindo uma
prioriza√ß√£o e cronogramas para relembr√°-los. Um s√™nior meio que &quot;sabe&quot; quais s√£o
as prioridades, se atacar a menor tarefa ou a maior, etc. Ele tamb√©m sabe
alinhar essas prioridades com outras pessoas/departamentos. Algumas n√≠veis de
expectativas que existem quando vamos desenvolver:</p>
<ol>
<li>vou escrever c√≥digo seguro</li>
<li>vou implementar o m√≥dulo de encripta√ß√£o</li>
<li>vou implementar o m√≥dulo de encripta√ß√£o pelo fim de maio</li>
<li>vou perguntar o prazo da tarefa e alinhar as expectativas</li>
</ol>
<p>Quando priorizamos, devemos dizer <strong>n√£o</strong>. Por√©m, existem v√°rios tipos de n√£o
que um s√™nior aprende a dizer. &quot;N√£o posso fazer isso agora, mas √© poss√≠vel para
o fim do m√™s&quot;. &quot;N√£o posso fazer agora, mas vamos ver se algu√©m da equipe pode
fazer&quot;. Ainda √© um <strong>n√£o</strong> mas √© um n√£o que consegue ser √∫til e prestativo e que
busca ajudar na resolu√ß√£o da mensagem.</p>
<h4>Analisando e assumindo riscos</h4>
<p>√â importante desenvolver um senso apropriado de risco, tanto para voc√™ quanto
para a companhia. Por exemplo, ser√° que compensa fazer um deploy depois das tr√™s
da tarde em um pr√©-feriado? Devemos pesar consequ√™ncias, fazer testes e ter um
plano <strong>r√°pido</strong> de <em>rollback</em>, mesmo que isso signifique ter mais trabalho
depois.</p>
<h4>Detalhes versus Quadro Geral</h4>
<p>Devemos fazer o trabalho; entender o impacto do trabalho para a empresa;
entender porque o trabalho est√° sendo feito; sugerir objetivos; sugerir a vis√£o;
escolher os objetivos/vis√£o.</p>
<h4>Recomenda√ß√µes</h4>
<p>Pense sobre tecnologias, na capacidade do time em rela√ß√£o a elas e no &quot;fit&quot; na
organiza√ß√£o. N√£o queira usar apenas a &quot;nova tecnologia para testar/aprender&quot;.
Uma ressalva √© que aqueles com experi√™ncia algumas vezes acabam usando algo
antigo que eles j√° tem maior familiaridade. Defenda pontos quando necess√°rio.
Entenda quando √© preciso resolver algo no mesmo momento, quando n√£o compensa
resolver e quando podemos simplesmente escrever um ticket para resolver depois.
Aplique a regra do
<a href="https://pt.wikipedia.org/wiki/Princ%C3%ADpio_de_Pareto" rel="nofollow">80/20</a>.</p>
<h4>Balan√ßo: O que √© melhor?</h4>
<p>Algumas vezes a solu√ß√£o t√©cnica &quot;correta&quot; n√£o √© a solu√ß√£o √≥tima para o ambiente.
Por outro lado, algumas vezes voc√™ vai contra uma melhor pr√°tica porque √© a
coisa certa a se fazer. Tecnologia baseada em consenso: quando todos v√£o para
uma sala e saem com uma decis√£o que nem todos podem concordar, mas que √© a
melhor e que todos assumem e adotam.</p>
<h4>Escopo</h4>
<p>No trabalho, seu escopo e impacto pode ser pequeno ou grande. Voc√™ pode
trabalhar com mais pessoas ou sozinho, pode trabalhar com mais times, trabalhar
com clientes ou n√£o.</p>
<h4>Trabalho &quot;Real&quot;</h4>
<p>O trabalho em si nem sempre envolve c√≥digo ou linha de comando. Existem
reuni√µes, expectativas,
<a href="http://blog.kudoos.com.br/agile/explorando-a-definicao-de-pronto/" rel="nofollow">defini√ß√µes de pronto</a>.
H√° tamb√©m muito planejamento. Seu trabalho tamb√©m pode envolver planilhas,
software de planejamento de projeto,
<a href="http://blog.kudoos.com.br/agile/dissecando-o-grooming/" rel="nofollow"><em>groomings</em></a>,
documenta√ß√£o e aprova√ß√£o.</p>
<h4>Relacionamentos</h4>
<p>Voc√™ trabalha com outros para obter resultados. √â imprescind√≠vel boa
comunica√ß√£o, alinhamento das expectativas e acompanhamentos para certificar-se
que tudo ocorre como esperado. Falar sobre seus hobbies, o que voc√™ fez no final
de semana, etc. Existe um balan√ßo sobre n√£o trabalhar e ser 100% focado no
trabalho, encontre o seu.</p>
<h4>Comunica√ß√£o</h4>
<p>Comunica√ß√£o depende da sua audi√™ncia, voc√™ deve saber comunicar as coisas de
acordo com o p√∫blico, por exemplo, usando ou n√£o termos t√©cnicos,
contextualizando para o entendimento de quem est√° presente. Saiba com quem est√°
conversando.</p>
<h4>Respondendo a uma quest√£o</h4>
<p>Existem v√°rias maneiras de se responder a uma quest√£o. Por exemplo, para a
quest√£o: <em>&quot;Como eu posso fazer o DB usar um √≠ndice nessa query
case-sensitive?&quot;</em>, voc√™ poderia responder:</p>
<ul>
<li>&quot;Eu n√£o sei.&quot;</li>
<li>&quot;Voc√™ n√£o pode fazer isso.&quot;</li>
<li>&quot;Voc√™ poderia tentar isso, ah, pera, isso n√£o funciona.Voc√™ poderia tentar
isso aqui... ah, n√£o funciona tamb√©m...&quot;</li>
</ul>
<p>Melhor do que isso, voc√™ poderia dizer: &quot;tente isso e v√™ se funciona&quot; ou &quot;eu
testei isso e funciona&quot;. Ou melhor ainda: &quot;que problema voc√™ est√° tentando
resolver?&quot; - Pense sobre quem est√° fazendo a pergunta e como pode
verdadeiramente ajudar.</p>
<h4>Reputa√ß√£o</h4>
<p>Pessoas <strong>percebem</strong> voc√™ como um expert, n√£o importa o que o seu cargo diga.
Reputa√ß√£o √© sobre relacionamentos. Voc√™ trabalha com pessoas, portanto √©
importante se dar bem com elas e isso reflete diretamente em como elas o v√™em.
Confian√ßa tamb√©m √© importante: poder confiar que vai realmente fazer o que foi
combinado. Fa√ßa um bom trabalho, mesmo em casos que pensa que est√£o al√©m de
voc√™. Ajude os outros.</p>
<h4>Dicas e segredos</h4>
<p>Desenvolva relacionamentos, agrade√ßa √†s pessoas que fazem o trabalho para voc√™
ou com voc√™. Se um grande projeto terminar ou algu√©m sair da empresa, deixe um
review legal no LinkedIn. Fa√ßa com que seja f√°cil para os outros fazerem o
trabalho que voc√™ precisa que eles fa√ßam.</p>
<p>Infelizmente n√£o consegui acessar os slides no momento da publica√ß√£o desse post,
<a href="https://twitter.com/ravanscafi/status/1145338092183859200" rel="nofollow">mas estou tentando</a>.</p>
<h2>Serverless: Fun√ß√£o como servi√ßo em PHP - <a href="https://twitter.com/JonataWeber" rel="nofollow"><em>Jonata Weber</em></a></h2>
<p>O Jonata, que era da Bahia e est√° por perto, em Goi√¢nia, foi falar pra gente
sobre <em>Serverless</em>, citando
<a href="https://fmlnerd.com/2016/08/16/30k-page-views-for-0-21-a-serverless-story/" rel="nofollow">um artigo</a>
que foi onde ele teve contato com o tema, onde o autor afirmava que para cada 30
mil requisi√ß√µes pagava apenas US\$0.21. Ele afirma que o termo <em>&quot;Server-less&quot;</em> √©
um pouco estranho pois existem servidores em algum lugar, ent√£o alguns termos um
pouco melhores seriam <em>&quot;No Ops&quot;</em>, <em>&quot;No Internal Sys Admin&quot;</em>, <em>&quot;Service-full&quot;
Architecture</em>... enfim.</p>
<p>O <strong>movimento serverless</strong> tenta abstrair e facilitar muitas coisas do processo
de desenvolvimento de software, visando tornar mais f√°cil colocar c√≥digo em
produ√ß√£o. Ele cita o <strong><em>time to value</em></strong>: intervalo entre identificar um
problema e entregar valor e diz que quanto menor esse tempo, melhor vai ser para
o sucesso do projeto.</p>
<p>Para rodar um app, precisamos de um Sistema Operacional (SO), que por sua vez
precisa de um hardware. Como devs, gostamos de abstrair as coisas e, assim,
come√ßamos a trabalhar com m√°quinas virtuais, que abstraem os sistemas
operacionais, sem precisar lidar diretamente com hardware e rodando o app em
&quot;qualquer&quot; servidor.</p>
<p>Seguindo em uma linha mais profunda de abstra√ß√£o, temos o <strong>BaaS</strong> (<em>Backend as
a Service</em> - Backend como um Servi√ßo), que abstrai o backend todo e te d√° apenas
APIs para lidar com a aplica√ß√£o, lidando com banco de dados e diversos outros
problemas. Abstraindo mais ainda, temos o <strong>FaaS</strong> (<em>Function as a Service</em> -
Fun√ß√£o como um servi√ßo), onde fun√ß√µes v√£o rodar por exemplo em cont√™ineres, com
um <em>input</em> e um <em>output</em>.</p>
<p>Empresas que suportam FaaS incluem: AWS, Google Cloud Platform, Microsoft Azure,
Apache OpenWhisk. O Jonata cita que s√≥ o Azure suporta PHP. Logo em seguida, ele
faz uma demo mostrando um pouquinho dos conceitos do FaaS.</p>
<p>Para a talk, ele preparou um exemplo de BaaS + FaaS para guardar likes de posts
no twitter, enviando esses dados com o Apache OpenWhisk, que consequentemente os
salva no Firebase, mostrando em tempo real as atualiza√ß√µes numa interface de
usu√°rio. A aplica√ß√£o de exemplo
<a href="https://github.com/jonataa/serverless-php-talk" rel="nofollow">est√° dispon√≠vel no GitHub</a>.</p>
<p>Para finalizar, o Jonata faz um paralelo com o mais tradicional <strong>PaaS</strong>
(<em>Platform as a Service</em> - Plataforma como um Servi√ßo) mostrando que voc√™ paga
de forma diferente por esses servi√ßos e que no PaaS provavelmente seu servidor
tem um tempo ocioso.</p>
<h3>Vantagens</h3>
<p>Entre os benef√≠cios de se utilizar tecnologias do tipo, temos um custo menor com
Dev e Ops com BaaS. J√° com FaaS, contamos com <em>auto-scaling</em> e pagamentos apenas
pelo uso. Com essas tecnologias temos mais facilidade em atingir o <em>time to
value</em>, podendo fazer mais <strong>experimenta√ß√£o</strong>. Contamos com uma complexidade
reduzida de <em>build</em> e <em>deploy</em> (por exemplo, √© s√≥ alterar uma fun√ß√£o onde foi
identificado um problema, ao inv√©s de fazer o deploy do sistema todo). Ainda
contamos com zero administra√ß√£o.</p>
<h3>Desvantagens</h3>
<p>J√°, pelo lado ruim, temos grande lat√™ncia de inicializa√ß√£o; limita√ß√£o de tempo
de execu√ß√£o do cont√™iner; repeti√ß√£o de l√≥gica em alguns casos e dificuldade de
testar a aplica√ß√£o.</p>
<h3>Futuro do Serverless e Possibilidades</h3>
<p>O Jonata v√™ o serverless tendendo para uma evolu√ß√£o no <strong>ferramental</strong>,
inclusive para testes. Tamb√©m espera que ocorra o surgimento de <strong>padr√µes</strong>,
entre outras coisas. Ele acredita que Serverless serve para aplica√ß√µes web; como
backend de <em>IoT</em> (internet das coisas); como backend de aplica√ß√µes m√≥veis, entre
outros usos. Por fim, cita
<a href="https://martinfowler.com/articles/serverless.html" rel="nofollow">um artigo</a> do Martin Fowler
sobre o tema.</p>
<p>Infelizmente, n√£o consegui encontrar os slides da apresenta√ß√£o.</p>
<h2>API First: Quando utilizar a estrat√©gia de API? - <a href="https://twitter.com/brunosouza" rel="nofollow"><em>Bruno Souza</em></a></h2>
<p>O Bruno Souza, que trabalha no Itamarati, veio falar sobre APIs, tema que teve
um boom nos √∫ltimos tempos. Uma API √© uma cole√ß√£o de rotinas, protocolos e
ferramentas para &quot;constru√ß√£o de plataformas&quot;. Na talk dele, ele decidiu falar
sobre <em>WebAPIs</em>.</p>
<p><em>WebAPIs</em> s√£o baseadas na arquitetura cliente x servidor e podem servir pra
v√°rias coisas, por exemplo:</p>
<ul>
<li>como um <strong>gateway</strong> para gerenciamento do controle de acessos;</li>
<li>como um <strong>contrato</strong> entre consumidor e provedor de APIs;</li>
<li>permite a <strong>integra√ß√£o</strong> de apps e dispositivos;</li>
<li>permite a <strong>cria√ß√£o de apps</strong> com base em outros apps;</li>
<li>como um <strong>plug-in</strong> universal;</li>
<li>como um <strong>filtro</strong> de seguran√ßa;</li>
</ul>
<p>A economia de APIs envolve por exemplo <em>IoT</em>, para gerenciar os dados do
dispositivos. APIs tornaram poss√≠vel a cria√ß√£o de FinTechs mais din√¢micas como
os bancos Nubank, por exemplo. Dentro de criptomoedas, as APIs s√£o vitais. Redes
sociais tamb√©m fazem uso de APIs.</p>
<p>Com isso, chegamos ao conceito de <strong>API First</strong>, que tem o intuito de alinhar a
cria√ß√£o de APIs com os objetivos de neg√≥cio. A estrat√©gia envolve pensar
primeiramente na API, antes mesmo da implementa√ß√£o. Ela deve ser a primeira
interface de usu√°rio da aplica√ß√£o e deve ser bem descritiva.</p>
<p>Segundo o Bruno, os benef√≠cios s√£o m√∫ltiplos: integra√ß√£o de v√°rios dispositivos;
ambiente distribu√≠do; cria√ß√£o, manuten√ß√£o e refatora√ß√£o das funcionalidades em
API bem documentadas. Melhora a produtividade do time, at√© sendo mais aderente
ao √°gil.</p>
<p>Uma arquitetura baseada em API visa centralizar diversos recursos e servi√ßos em
um lugar s√≥ onde os clientes se conectam. Uma API agrega valor promovendo novos
neg√≥cios, experi√™ncias e recursos; monetiza ativos; oferece suporte a vendas e
marketing; organiza c√≥digos e estruturas monol√≠ticas.</p>
<p>Quando usar uma estrat√©gia de API? Para saber disso, algumas perguntas que
precisam ser respondidas s√£o:</p>
<ul>
<li>Qual a principal raz√£o para a cria√ß√£o da API?</li>
<li>Quem √© o p√∫blico de desenvolvedores?</li>
<li>Quais ativos ser√£o disponibilizados?</li>
<li>Que tipo de aplicativo pode ser criado?</li>
</ul>
<h3><em>Mobile First</em> versus <em>API First</em></h3>
<p>No Mobile First, a prioridade do planejamento do desenvolvimento se d√° a partir
de dispositivos m√≥veis. J√° no API First, a API √© constru√≠da primeiro. Essas
abordagens permitem que v√°rias plataformas sejam constru√≠das.</p>
<p>Temos tamb√©m a API voltada para a <em>Developer Experience</em>, onde o foco da cria√ß√£o
da API √© na UX (sendo o desenvolvedor o usu√°rio). Como os desenvolvedores usar√£o
essa interface? √â importante definir o tipo de dev que usar√° a API, expor os
objetivos dela com clareza.</p>
<p>Prototipar sua API √© muito importante para melhorar o design da mesma. Algumas
ferramentas que auxiliam nesse processo s√£o: <a href="https://apiary.io/" rel="nofollow">Apiary</a>,
<a href="https://raml.org/" rel="nofollow">RAML</a> e <a href="https://swagger.io/" rel="nofollow">Swagger</a>. A documenta√ß√£o da
API auxilia muito a equipe no momento do desenvolvimento e atualiza√ß√£o da mesma.
√â importante que a documenta√ß√£o seja f√°cil de entender e pesquis√°vel, sendo
auto-suficiente e intuitiva. A mesma deve estar sempre atualizada.</p>
<p>Podem existir APIs p√∫blicas e privadas, cada uma com o seu intuito. Independente
disso, devem ser consideradas medidas de seguran√ßa, como por exemplo,
<strong>autentica√ß√£o</strong> e <strong>autoriza√ß√£o</strong>. O tr√°fego da mesma pode ser monitorado, com
controles como limite de requisi√ß√µes, cotas de uso, rejei√ß√£o de requisi√ß√µes,
etc.</p>
<p>Arquiteturalmente falando, contamos com alguns padr√µes como por exemplo SOAP,
REST e GraphQL. O Bruno explicou um pouco como funciona cada um desses padr√µes,
com alguns exemplos b√°sicos.</p>
<p>Ele ainda falou que √© importante pensar em performance, para que a API responda
em tempo h√°bil e seus usu√°rios n√£o percam o interesse na aplica√ß√£o. Mostrou
tamb√©m que existem algumas ferramentas para realizar testes da API. Como
conclus√£o, explicou como uma API traz grandes oportunidades de neg√≥cio, tendo os
desenvolvedores mais alinhados com os objetivos. Os pr√©-requisitos para cria√ß√£o
de uma boa API s√£o:</p>
<ol>
<li>Alinhar os objetivos de neg√≥cio</li>
<li>Estabelecer os perfis dos desenvolvedores</li>
<li>Definir a arquitetura da API</li>
<li>Implantar uma infraestrutura de API</li>
</ol>
<p>At√© a publica√ß√£o desse post, n√£o encontrei os slides da apresenta√ß√£o.</p>
<h2>The QueryFilter Concept for Filtering Models - <a href="https://twitter.com/junior_grossi" rel="nofollow"><em>Junior Grossi</em></a></h2>
<p>Para finalizar o primeiro dia de palestras, decidi ver a talk do Junior, um dos
organizadores do PHPMG. E ap√≥s se apresentar, ele explicou que <code>QueryFilter</code> √©
uma abstra√ß√£o para filtrar objetos baseado nos par√¢metros da <code>URL</code>. Ele diz que
pegou a ideia de um v√≠deo do <a href="https://laracasts.com/" rel="nofollow">Laracasts</a>. Explicando o
conceito, caso quis√©ssemos pegar posts com <em>t√≠tulo</em> <code>foo</code> e <em>status</em> <code>bar</code>,
poder√≠amos utilizar uma URL do tipo:</p>
<pre><code class="language-none">/posts?title=foo&amp;status=bar</code></pre>
<p>E essa √© mais ou menos a ideia do <code>QueryFilter</code>. Logo j√° partimos pro <em>live
coding</em>, que foi bem completo e explicativo - o Junior √© um √≥timo professor.</p>
<p><code>QueryFilter</code> √© um conceito, podendo ser utilizado em qualquer linguagem.
Existem alguns pacotes prontos para isso dispon√≠veis no Packagist, como o
<a href="https://github.com/cerbero90/query-filters" rel="nofollow">cerbero/query-filters</a> e o
<a href="https://github.com/kblais/query-filter" rel="nofollow">kblais/query-filter</a> que podem ser
utilizados nos seus projetos. O Junior comentou que inclusive utiliza o
<code>cerbero</code> em seus projetos.</p>
<p>Confira os slides da apresenta√ß√£o no
<a href="https://speakerdeck.com/jgrossi/queryfilter-model-filtering" rel="nofollow">SpeakerDeck</a>.</p>
<hr />
<h2>Dia 2</h2>
<h2>ChatOps! Como Podemos Usar &quot;Chatbots&quot; Para Realizar O Trabalho De Infra Por N√≥s - <a href="https://twitter.com/pokemaobr" rel="nofollow"><em>Rodrigo &quot;Pokemao&quot; Cardoso</em></a></h2>
<p>Como cheguei atrasado no evento (ops! üòÖ), essa foi a primeira talk do dia para
mim. O pokemaobr, <em>Community Manager</em> no iMasters e criador do
<a href="http://www.pokephp.com.br/" rel="nofollow">PokePHP</a>, veio falar sobre um case espec√≠fico de
uso de <em>ChatBots</em>, para <em>Ops</em>.</p>
<p><em>ChatBots</em> existem desde 1950, por√©m viraram moda atualmente. O pokemao comenta
que j√° fazia ChatBots no mIRC, anos e anos atr√°s. Esses bots s√£o bem parecidos
com os de hoje: funcionam em um chat, orientados a eventos e express√µes,
permitem a execu√ß√£o de comandos, possuem acesso a servi√ßos externos, t√™m
integra√ß√£o com base de dados (arquivos <code>.ini</code>) e &quot;intelig√™ncia artificial&quot;. Mas
por que ChatBots est√£o na moda? Um dos motivos talvez seja a ideia que √© vendida
de que eles podem resolver todos os problemas de atendimento. O pokemao
considera isso um mito e tamb√©m cita outros mitos, como falar que os mesmos s√£o
inteligentes e que as pessoas preferem falar com rob√¥s.</p>
<p>Com <em>serverless</em> por exemplo, √© f√°cil fazer um bot com um custo baixo. Al√©m
disso, existem v√°rias solu√ß√µes com cotas gratuitas. O legal de chatbots √© que
voc√™ consegue implementar em qualquer linguagem, integrando aos servi√ßos atrav√©s
de <em>APIs</em> ou com <em>SDKs</em>.</p>
<p>Aproveitando o que temos de bom em chatbot, que s√£o os comandos, o pokemao chega
ao tema <strong>ChatOps</strong>. Num fluxo b√°sico de <em>ChatOps</em>, um desenvolvedor <strong>envia uma
mensagem</strong> num aplicativo de chat, que √© <strong>lida por um bot</strong> e alguma <strong>a√ß√£o √©
realizada na sua infraestrutura</strong>.</p>
<p>√â poss√≠vel, por exemplo, criar e destruir novos servidores em cloud, utilizar
automatizadores de cria√ß√£o de ambientes como
<a href="https://www.ansible.com/" rel="nofollow">Ansible</a>, <a href="https://www.chef.io/" rel="nofollow">Chef</a>,
<a href="https://puppet.com/" rel="nofollow">Puppet</a>. Com as APIs e SDKs existentes, isso se torna
vi√°vel com ChatOps. Outro problema que pode ser resolvido √© o de Deploy.</p>
<p>Alguns <strong>projetos</strong> citados foram o <a href="https://hubot.github.com" rel="nofollow">Hubot</a>, do
GitHub; o <a href="https://github.com/accessd/slack-deploy-bot" rel="nofollow">Slack Deploy Bot</a>; o
<a href="https://opsdroid.dev/" rel="nofollow">opsdroid</a>; o <a href="https://botman.io/" rel="nofollow">Botman</a>, feito em PHP
e por √∫ltimo o reposit√≥rio
<a href="https://github.com/exAspArk/awesome-chatops" rel="nofollow">Awesome ChatOps</a>.</p>
<p>Em seguida, o pokemao mostrou como fazer um ChatOps Bot na pr√°tica com PHP para
resolver o problema de criar e deletar droplets na Digital Ocean atrav√©s do
celular. Ele utilizou a biblioteca
<a href="https://github.com/toin0u/DigitalOceanV2" rel="nofollow">Digital Ocean V2</a>, a ferramenta
<a href="https://dialogflow.com/" rel="nofollow">Dialogflow</a> onde √© poss√≠vel definir <strong>inten√ß√µes</strong> do
usu√°rio, como por exemplo, <em>&quot;listar droplets&quot;</em>. Essa ferramenta permite que
<em>webhooks</em> sejam acionados de acordo com inten√ß√µes pr√© determinadas. O pokemao
fez uma live mostrando na pr√°tica a cria√ß√£o de um droplet chamado <code>darkmiratour</code>
pelo Telegram. Num outro exemplo mostrado, utilizando o
<a href="https://telegram.org/blog/bot-revolution" rel="nofollow">TelegramBot</a>/API, o pokemao fez uma
ferramenta que verifica se determinado site est√° online e avisa por Telegram
caso o site saia fora do ar.</p>
<p>Os slides da apresenta√ß√£o est√£o dispon√≠veis no
<a href="https://speakerdeck.com/pokemaobr/como-criar-e-utilizar-chatbots-para-nos-auxiliar-com-questoes-de-infraestrutura" rel="nofollow">SpeakerDeck</a>.</p>
<h2>Painel Das Comunidades</h2>
<p>Em seguida, tivemos um painel com diversos organizadores de comunidades
conversando sobre os desafios de se manter uma comunidade e o trabalho que cada
uma faz, muitas vezes at√© social, como no caso do
<a href="https://phpcomrapadura.org/" rel="nofollow">PHP com Rapadura</a>. Fui convidado a participar por
conta do meu trabalho (meio parado no momento, eu sei üòï) na comunidade do
<a href="https://twitter.com/laravelsp" rel="nofollow">@laravelsp</a>. Foi um momento interessante para
apresentar aos participantes essas comunidades e tamb√©m dar dicas de como ajudar
ou criar sua pr√≥pria.</p>
<h2>Compartilhando Conhecimento E Unindo Uma Equipe Por Meio De Code Review - <a href="https://twitter.com/alonsoemacao" rel="nofollow"><em>Vin√≠cius Alonso</em></a></h2>
<p>Na volta do almo√ßo, decidi ver a talk do Vin√≠cius, que tratou do tema <strong>Code
Review</strong> (Revis√£o de C√≥digo). Ele come√ßa com a defini√ß√£o:</p>
<blockquote>
<p>Code Review √© uma pr√°tica de revis√£o de trabalho de um programador antes de
integr√°-lo a base de c√≥digo.</p>
</blockquote>
<p>E cita os valores dessa pr√°tica: com o review, temos o <strong>compartilhamento do
conhecimento</strong>. Centralizar o conhecimento em apenas um membro pode ser
prejudicial √† equipe. O review tamb√©m promove o <strong>debate das solu√ß√µes</strong>, que
pode ser √≥timo para melhorar nosso c√≥digo. O <strong>senso de equipe</strong> aumenta.</p>
<h3>Pap√©is dos envolvidos</h3>
<p>Temos o <strong>autor</strong>, que √© quem escreveu o c√≥digo e enviou o <em>Pull Request</em>. Entre
suas responsabilidades, deve escrever c√≥digo de qualidade, resolver o problema
de acordo com o requisito, <strong>fornecer contexto</strong>, n√£o introduzir nenhum
defeito...</p>
<p><img src="/assets/images/posts/como-foi-o-darkmira-tour-2018/fornecendo_contexto.jpg" alt="Fornecendo contexto - Template para Pull Requests" /></p>
<p>Temos tamb√©m o <strong>revisor</strong>, que deve instigar um debate sobre o trabalho do
colega por meio da argumenta√ß√£o l√≥gica. As responsabilidades do revisor envolvem
perguntar, n√£o dar ordens, justificar as melhorias propostas, ajudar com
corre√ß√µes e mudan√ßas.</p>
<h3>Pontos chave para fazer um review de qualidade</h3>
<ul>
<li><strong>O que foi desenvolvido atende aos requisitos?</strong> √â importante cuidar para n√£o
introduzir defeitos e de prefer√™ncia n√£o fazer tarefas ocultas no PR (<em>Pull
Request</em>), que podem deixar a tarefa muito mais demorada ou complexa. √â
interessante separar os Pull Requests por tarefa, caso deseje fazer alguma
outra coisa, fa√ßa outro PR e deixe claro para o time.</li>
<li><strong>Os testes escritos garantem que o que foi implementado est√° realmente
funcionando?</strong> Fa√ßa testes que fa√ßam sentido para o contexto da tarefa, eles
devem cobrir os fluxos da funcionalidade, desde o caminho feliz at√© caminhos
de erro. Garanta que os testes de fato testem algo.</li>
<li><strong>A solu√ß√£o empregada foi a melhor para o momento?</strong> Lembre-se de aplicar
t√©cnicas de <strong>Clean Code</strong>, de refletir sobre a necessidade de se utilizar
algo, como diz o <strong>YAGNI</strong> (<em>You ain't gonna need it</em> - Voc√™ ainda n√£o vai
precisar disso) e pense tamb√©m na <strong>arquitetura</strong> utilizada.</li>
</ul>
<h3>Agilidade</h3>
<p>Agilidade n√£o √© necessariamente sobre fazer <em>SCRUM</em>, devemos falar mais sobre o
manifesto!</p>
<blockquote>
<p>&quot;Indiv√≠duos e intera√ß√µes mais que processos e ferramentas&quot;</p>
<p>&quot;Software funcionando √© a primeira m√©trica de progresso&quot;</p>
<p>&quot;Aten√ß√£o cont√≠nua para excel√™ncia t√©cnica e um bom design aumenta a agilidade&quot;</p>
<p>&quot;As melhores arquiteturas, requisitos e designs emergem de times auto
organiz√°veis&quot;</p>
</blockquote>
<h3><a href="https://github.com/danger/danger" rel="nofollow">Danger</a> - uma ferramenta para melhorar o Code Review</h3>
<p>O Vin√≠cius ainda citou o Danger, uma ferramenta que verifica se a documenta√ß√£o
foi atualizada junto com o PR al√©m de v√°rias outras funcionalidades, rejeitando
automaticamente PRs que n√£o passem nessas regras estabelecidas.</p>
<h3>Conclus√µes</h3>
<ul>
<li><strong>Code review traz muitos benef√≠cios para sua equipe</strong> que v√£o al√©m de c√≥digo,
como entendimento das regras de neg√≥cio, alinhamento entre os membros.</li>
<li><strong>Devemos focar no que a m√°quina n√£o pode fazer</strong>. A m√°quina consegue
verificar estilo de c√≥digo, PSRs, complexidade ciclom√°tica, etc. Por√©m ela n√£o
consegue avaliar se um requisito foi atendido, por exemplo, e √© nisso que
podemos focar.</li>
<li><strong>Para a pr√°tica acontecer de maneira saud√°vel precisamos de indiv√≠duos
motivados a melhorar</strong>, que saibam escutar as poss√≠veis melhorias e queiram
evoluir.</li>
</ul>
<p>Veja os slides da apresenta√ß√£o
<a href="https://speakerdeck.com/viniciusalonso/compartilhando-conhecimento-e-unindo-uma-equipe-por-meio-de-code-review" rel="nofollow">clicando aqui</a>.</p>
<h2>Projetando Software Orientado a Objetos Com Qualidade - <a href="https://twitter.com/marcelgsantos" rel="nofollow"><em>Marcel dos Santos</em></a></h2>
<p>Acabei por ficar um tempo conversando com o
<a href="https://twitter.com/junior_grossi" rel="nofollow">J√∫nior Grossi</a> e o
<a href="https://twitter.com/djonasm_" rel="nofollow">David Jonas</a> sobre trabalho remoto e infelizmente
n√£o consegui assistir ao outro painel do evento, sobre a participa√ß√£o das
mulheres na TI. Assim, acabei voltando para essa talk do Marcel.</p>
<p>O Marcel, que √© desenvolvedor Web Full-Stack e um dos evangelistas do
<a href="https://phpsp.org.br/" rel="nofollow">PHPSP</a>, come√ßa sua talk perguntando √† plateia:
&quot;Orienta√ß√£o a Objetos? O que √© isso?&quot; e ap√≥s algumas respostas, define: <em>trata
da comunica√ß√£o entre objetos atrav√©s da troca de mensagens</em>. Um objeto tem
<strong>caracter√≠sticas</strong>, <strong>comportamentos</strong> e o <strong>estado atual</strong>.</p>
<h3>Pilares da Orienta√ß√£o a Objetos</h3>
<p>Os pilares da orienta√ß√£o a objetos s√£o a <strong>abstra√ß√£o</strong>, que permite a
representa√ß√£o da vida real dentro do sistema; a <strong>heran√ßa</strong>, que possibilita o
reaproveitamento de c√≥digo em que uma classe herda caracter√≠sticas e atributos
de uma classe base; o <strong>encapsulamento</strong>, que permite ocultar a implementa√ß√£o
interna de um objeto e o <strong>polimorfismo</strong>, que consiste na altera√ß√£o do
funcionamento interno de um m√©todo herdado do pai.</p>
<h3>Coes√£o e acoplamento</h3>
<p>A <strong>coes√£o</strong> indica o grau de rela√ß√£o entre os membros de um m√≥dulo. J√° o
<strong>acoplamento</strong> √© o grau de depend√™ncia entre as classes.</p>
<h3>Os maus cheiros do projeto</h3>
<ul>
<li><strong>Rigidez</strong> √© a tend√™ncia do software de ser dif√≠cil de alterar, mesmo de
maneira simples.</li>
<li><strong>Fragilidade</strong> √© a tend√™ncia de uma √∫nica altera√ß√£o estragar o software em
muitos lugares.</li>
<li><strong>Imobilidade</strong> mostra que a separa√ß√£o de uma l√≥gica pode ser muito custosa e
inviabilizada.</li>
<li><strong>Viscosidade</strong> √© uma caracter√≠stica que diz o qu√£o dif√≠cil √© de preservar um
software.</li>
<li><strong>Complexidade desnecess√°ria</strong> √© quando existem elementos que n√£o ser√£o √∫teis
no momento.</li>
<li><strong>Repeti√ß√£o desnecess√°ria</strong> √© quando um mesmo c√≥digo aparece in√∫meras vezes de
forma pouco diferentes.</li>
<li><strong>Opacidade</strong> refere-se a dificuldade de compreens√£o de um m√≥dulo.</li>
</ul>
<h3>Princ√≠pios e pr√°ticas</h3>
<p>O <strong>SOLID</strong> √© conjunto de princ√≠pios que permite um <strong>melhor projeto</strong> de
sistemas.</p>
<p>No SOLID, temos a <strong>invers√£o de depend√™ncia</strong>: m√≥dulos de alto n√≠vel n√£o devem
depender de m√≥dulos de baixo n√≠vel; m√≥dulos de alto n√≠vel devem depender apenas
de abstra√ß√µes. m√≥dulos de baixo n√≠vel tamb√©m devem depender apenas de
abstra√ß√µes. Por exemplo, uma <code>Classe A</code> (alto n√≠vel) referencia uma <code>Classe B</code>
(baixo n√≠vel), ou seja, a <code>A</code> depende da <code>B</code>. Altera√ß√µes em qualquer uma das
classes pode levar a efeitos indesejados na outra tamb√©m. Utilizando-se uma
interface, a <code>Classe B</code> poderia implement√°-la e a <code>Classe A</code> depender somente da
interface, tendo a garantia de que suas depend√™ncias estejam implementadas. Uma
iniciativa como essa <strong>diminui o acoplamento</strong> do nosso c√≥digo. Utilizando
<strong>inje√ß√£o</strong> de depend√™ncia, conseguimos alcan√ßar o princ√≠pio da <strong>invers√£o</strong> de
depend√™ncia. √â poss√≠vel fazer isso sem a necessidade de bibliotecas.</p>
<p><strong>Value Objects</strong> √© outro conceito que o Marcel traz, que nada mais s√£o que
objetos simples e pequenos em que a igualdade n√£o √© baseada em identidade,
ajudando a representar uma <em>linguagem ub√≠qua</em> no seu c√≥digo. Por exemplo, ao
inv√©s de representar um email como uma simples string, podemos ter uma classe
<code>Email</code> que poderia ter suas pr√≥prias garantias para dizer que o mesmo √© v√°lido,
dando maior seguran√ßa de transitar essa informa√ß√£o de email pelo sistema. O
mesmo vale tamb√©m para um <em>value object</em> <code>Money</code>, por exemplo. √â interessante se
utilizar o conceito quando os tipos possuem <strong>valida√ß√£o</strong>, <strong>regras de neg√≥cio</strong>
ou <strong>comportamento</strong>.</p>
<p>O princ√≠pio <strong>Tell, Don't Ask</strong> diz: <strong>n√£o pe√ßa</strong> informa√ß√µes para fazer o seu
trabalho, apenas <strong>diga</strong> o que quer que seja feito e deixe o outro objeto lidar
com isso internamente.</p>
<p>J√° a <strong>Lei de Demeter</strong> diz: fale com seus amigos mais pr√≥ximos, n√£o fale com
estranhos. Por exemplo, tendo <code>Classe A</code> dependendo da <code>Classe B</code> e a <code>B</code>
dependendo da <code>Classe C</code>, a <code>Classe A</code> n√£o deveria enviar mensagens diretamente
para a <code>C</code>, somente para a <code>B</code>.</p>
<p><img src="/assets/images/posts/como-foi-o-darkmira-tour-2018/lei_de_demeter.jpg" alt="A Lei de Demeter - n√£o fale com estranhos." /></p>
<p><strong>Objects Calisthenics</strong> s√£o um conjunto de <em>nove</em> exerc√≠cios que ajudam a
melhorar a qualidade do seu c√≥digo. O Marcel fez uma talk espec√≠fica sobre esses
exerc√≠cios na Laraconf Brazil 2017,
<a href="https://youtu.be/IaZC6iKX5J4?t=547" rel="nofollow">confiram aqui</a>.</p>
<h3>Conclus√µes</h3>
<p>Os princ√≠pios de design ajudam a projetar c√≥digos melhores. Um c√≥digo mau
projeto √© um c√≥digo dif√≠cil de mudar. Uma classe n√£o deve ser for√ßada a depender
de uma implementa√ß√£o espec√≠fica. Uma classe deve depender de um contrato,
abstra√ß√£o ou interface. Prefira classes com alta coes√£o e baixo acoplamento.</p>
<p><a href="https://speakerdeck.com/marcelgsantos/projetando-software-orientado-a-objetos-com-qualidade" rel="nofollow">Nos slides</a>,
o Marcel deixa v√°rias refer√™ncias para se aprofundar no assunto.</p>
<h2>Do legado ao DDD - <a href="https://twitter.com/leonnleite" rel="nofollow"><em>Leonn Leite</em></a></h2>
<p>Para fechar as talks do dia - e tamb√©m do evento, escolhi ver o Leonn, L√≠der
T√©cnico PHP na Engesoftware e sua palestra sobre <em>Domain-Driven Design</em> (DDD).</p>
<h3>Motiva√ß√£o - C√≥digo Legado</h3>
<p>Segundo o Leonn, Bras√≠lia √© o <strong>pa√≠s</strong> do legado, ent√£o fazer integra√ß√£o
cont√≠nua em legado √© perigoso. Assim, os problemas v√£o sendo replicados cada vez
mais conforme o projeto vai sendo desenvolvido, ficando muito dif√≠cil de manter.
Geralmente as aplica√ß√µes s√£o estruturadas. Quando se tem Orienta√ß√£o a Objeto,
que √© raro, muitas vezes √© um OO estruturado, com m√©todos de mais de mil linhas.</p>
<p>Os testes das aplica√ß√µes s√£o feitos por humanos, sem nada automatizado. Testes
unit√°rios, por exemplo, n√£o existem pois os contratos com governos n√£o exigem e
&quot;se n√£o pagam, n√£o fazemos&quot;. Sobre reutiliza√ß√£o de c√≥digo, basicamente √©
<kbd>Ctrl</kbd>+<kbd>C</kbd> e <kbd>Ctrl</kbd>+<kbd>V</kbd> do Stack Overflow.
<a href="https://getcomposer.org/" rel="nofollow">Composer</a> com
<a href="https://github.com/composer/satis" rel="nofollow">Satis</a> ou
<a href="https://toranproxy.com/" rel="nofollow">Toran Proxy</a> poderiam ser utilizados para reaproveitar
c√≥digo...</p>
<p>A culpa desses sistemas serem assim geralmente √© da falta de tempo, da
experi√™ncia dos profissionais e de falhas na comunica√ß√£o. Para lidar com a
<strong>falta de tempo</strong>, o Leonn recomenda: n√£o reinvente a roda; foque no problema
real e n√£o em &quot;perfumarias&quot;. Sobre a <strong>experi√™ncia dos profissionais</strong>: fa√ßa
<em>pair programming</em>, fale (literalmente) seus problemas, leia mais c√≥digo, fa√ßa
<em>code review</em>, leia c√≥digo do GitHub.A <strong>falha na comunica√ß√£o</strong> geralmente
ocorre pelo medo de perguntar, pelo fato de cada um falar de uma forma diferente
e, √†s vezes, quando tentamos programar em ingl√™s, fica mais complexo e pode
gerar dificuldade de entendimento.</p>
<p>O Leonn deixou tamb√©m uma reflex√£o de um pr√© evento do
<a href="/2018-03-14-como-foi-participar-do-php-experience-2018/">PHP Experience</a>:</p>
<blockquote>
<p>&quot;Voc√™s ainda n√£o perceberam que o poder da empresa est√° na m√£o do
programador?&quot;</p>
<p>Tiago Baeta (cofundador do <a href="https://imasters.com.br/" rel="nofollow">iMasters</a>)</p>
</blockquote>
<h3>Entendendo sua aplica√ß√£o</h3>
<p>O Leonn mostrou um exemplo de c√≥digo, que, embora funcionasse, tinha alguns
problemas: era desorganizado; com quase nenhuma verifica√ß√£o de erros; a
reutiliza√ß√£o s√≥ era poss√≠vel copiando o c√≥digo; a manuten√ß√£o e os testes eram
dif√≠ceis. Assim, duas op√ß√µes surgiam para esse c√≥digo: jogar fora e criar novo
c√≥digo do zero ou refatorar.</p>
<p>Sobre <strong>Views</strong>, devemos entender que √© uma camada que n√£o tem intelig√™ncia, s√≥
imprime dados. E que tamb√©m <em>JSON</em> √© view, <em>XML</em> √© view, <em>HTML</em> √© view. Um
<strong>Front Controller</strong> faz o meio de campo, controla as requisi√ß√µes, coordena os
servi√ßos, iniciada todas as jogadas. Um <strong>Service</strong> faz chamadas externas, faz a
transi√ß√£o do <em>controller</em> para o dom√≠nio, orquestra as opera√ß√µes do dom√≠nio,
por√©m regras de negocio n√£o deveriam estar presentes nessa camada. <strong>Value
Objects</strong> s√£o objetos que encapsulam tipos primitivos, por exemplo, <code>Dinheiro</code>,
<code>Email</code> (como o Marcel disse na talk dele), representam valores e s√£o imut√°veis.
Uma dica √© a biblioteca <a href="https://github.com/moneyphp/money" rel="nofollow">moneyphp/money</a>.
<strong>Entities</strong> tamb√©m s√£o objetos, possuem um identificador que n√£o deve mudar,
s√£o mut√°veis e podem possuir <em>Value Objects</em>. Por fim, um <strong>Repository</strong> √© uma
cole√ß√£o, consiste de uma camada de persist√™ncia, pode ser <em>In/Out</em> e √© usado
para invers√£o de depend√™ncia, a letra <strong>D</strong> do SOLID (algo que o Marcel comentou
tamb√©m).</p>
<h3>O que √© DDD?</h3>
<p>Criado pelo Eric Evans, O <em>Domain-Driven Design</em> tem como subt√≠tulo: <em>&quot;Atacando
as complexidades no cora√ß√£o do software&quot;</em>. Temos nosso <strong>Core Domain</strong>, que √©
nosso diferencial estrat√©gico. Nosso <strong>dom√≠nio</strong> √© representado pelo <em>core
domain</em> somado aos <em>subdomains</em>. Devemos nos questionar:</p>
<ul>
<li>Por que escrever esse software vale a pena?</li>
<li>Por que n√£o comprar uma solu√ß√£o pronta?</li>
<li>Por que n√£o terceirizar o desenvolvimento?</li>
</ul>
<p>Se voc√™ pode terceirizar, talvez essa parte do seu sistema n√£o √© o seu <em>Core
Domain</em>. Nem sempre ele √© o que aparenta ser.</p>
<p>Entre os subdom√≠nios, temos os <strong>gen√©ricos</strong> e os de <strong>suporte</strong>. Os
<strong>gen√©ricos</strong> s√£o partes da aplica√ß√£o que podem ser constitu√≠dos de projetos
<em>open source</em>, <em>pagos</em> ou at√© mesmo <em>terceirizados</em>. Em contrapartida, os
subdom√≠nios de <strong>suporte</strong> s√£o aqueles que n√£o s√£o diferenciais mas que s√£o
necess√°rios, como por exemplo, m√≥dulos de pagamento no ecommerce ou m√≥dulos de
autentica√ß√£o. Uma dica para diferenciar √©: &quot;Eu n√£o consigo viver sem o suporte,
eu consigo adaptar o gen√©rico&quot;.</p>
<p>O importante √© <strong>focar esfor√ßos no Core Domain</strong> e <strong>evitar a IVSF</strong>, a
<em>&quot;irresist√≠vel vontade de sair fazendo&quot;</em>.</p>
<p>Sobre comunica√ß√£o, o Leonn afirma: comunica√ß√£o ruim √© igual a c√≥digo ruim.
Portanto, tenha uma <strong>linguagem ub√≠qua</strong>: todos os envolvidos no projeto, n√£o s√≥
desenvolvedores, falam nesses termos, todos devem saber o que cada termo
significa e temos que usar os termos dos <strong>especialistas do dom√≠nio</strong> mesmo no
nosso c√≥digo.</p>
<p>As vezes os contextos devem ser separados e temos que fazer essa segmenta√ß√£o no
c√≥digo tamb√©m, s√£o os chamados <strong>Contextos Delimitados</strong>.</p>
<h3>Conclus√µes</h3>
<p>O caminho, que n√£o √© uma solu√ß√£o √∫nica, mas uma dica do Leonn √©: n√£o desenvolva
baseado em framework; seja independente de <em>storage</em> (banco de dados, cache,
mecanismo de busca); use <code>final class</code> para ningu√©m estender o dom√≠nio,
<strong>ActiveRecord</strong> n√£o deve ser usado. Use <strong>Eventos</strong>. Cuidado com <em>Models
an√™micos</em>, que tenham somente <code>setter</code>s e <code>getter</code>s. Em <em>Models ricos</em>, n√£o
temos setters, os dados s√£o passados apenas no construtor, a regra de neg√≥cio √©
na entidade e segue o mundo real. <em>CommandBus</em> √© uma t√©cnica boa para trabalhar
com DDD. Saia da zona de conforto.</p>
<p>Confira os slides da talk do Leonn no
<a href="https://pt.slideshare.net/leonnleite/do-legado-ao-ddd-94043869" rel="nofollow">SlideShare</a>, t√°
cheio de refer√™ncias.</p>
<p>Com isso, chegamos ao fim do Darkmira Tour que rolou em 2018. Espero estar
presente no de 2020 e fazer a cobertura para voc√™s! üòâ</p>
<hr />
<p>Este artigo foi publicado originalmente no <a href="https://ravan.me/2019-07-09-como-foi-o-darkmira-tour-2018/" rel="nofollow">site do Ravan Scafi</a>.</p>        </div>
    </section>
    <section class="section">
        <div class="container">
            
                    </div>
    </section>
        <div class="container has-text-centered">
    <div class="notification">
        Acha que esse conte√∫do possui erros ou poderia ser aperfei√ßoado?
        <a href="https://github.com/phpsp/phpsp.org.br/blob/master/source/_posts/como-foi-o-darkmira-tour-2018.md" title="Ajuste esse conte√∫do!" target="_blank">Colabore!</a>
    </div>
</div>    </div>
</section>
</body>

<footer class="footer">
    <div class="content has-text-centered">
        <div class="level is-small">
            <div class="level-item">
                <a href="https://php.net" target="_blank">
                    <figure class="image is-128x128">
                        <img src="/assets/images/sponsors/php.png" title="PHP.net">
                    </figure>
                </a>
            </div>
        </div>

        <div class="level is-small">
            <div class="level-item">
            <a href="https://azure.microsoft.com/pt-br/" target="_blank">
                <figure class="image is-128x128">
                    <img src="/assets/images/sponsors/azure.png" title="Microsoft Azure"
                         alt="Microsoft Azure">
                </figure>
            </a>
        </div>
            <div class="level-item">
            <a href="https://imasters.com.br/" target="_blank">
                <figure class="image is-128x128">
                    <img src="/assets/images/sponsors/imasters.png" title="iMasters"
                         alt="iMasters">
                </figure>
            </a>
        </div>
            <div class="level-item">
            <a href="https://paypal.com.br/" target="_blank">
                <figure class="image is-128x128">
                    <img src="/assets/images/sponsors/paypal.png" title="PayPal"
                         alt="PayPal">
                </figure>
            </a>
        </div>
            <div class="level-item">
            <a href="https://www.locaweb.com.br/" target="_blank">
                <figure class="image is-128x128">
                    <img src="/assets/images/sponsors/locaweb.png" title="LocaWeb"
                         alt="LocaWeb">
                </figure>
            </a>
        </div>
    </div>
<div class="level is-small">
            <div class="level-item">
            <a href="https://www.jetbrains.com/phpstorm/" target="_blank">
                <figure class="image is-128x128">
                    <img src="/assets/images/sponsors/phpstorm.png" title="PHPStorm"
                         alt="PHPStorm">
                </figure>
            </a>
        </div>
            <div class="level-item">
            <a href="https://contaazul.com/" target="_blank">
                <figure class="image is-128x128">
                    <img src="/assets/images/sponsors/contaazul.png" title="ContaAzul"
                         alt="ContaAzul">
                </figure>
            </a>
        </div>
            <div class="level-item">
            <a href="https://devnaestrada.com.br/" target="_blank">
                <figure class="image is-128x128">
                    <img src="/assets/images/sponsors/devnaestrada.png" title="Dev Na Estrada"
                         alt="Dev Na Estrada">
                </figure>
            </a>
        </div>
    </div>

        <hr>
        <p>O site <strong>PHPSP.org.br</strong> foi criado pela <a href="https://github.com/phpsp/phpsp.org.br/graphs/contributors" target="_blank" title="Colaboradores do Site PHPSP.org">Comunidade PHPSP</a>.</p>
        <p>O c√≥digo deste site esta sob a licen√ßa <a href="http://opensource.org/licenses/mit-license.php" target="_blank" title="Licen√ßa MIT">MIT</a> e pode ser encontrado <a href="https://github.com/phpsp/phpsp.org.br/" target="_blank" title="C√≥digo Fonte do Site PHPSP.org.br">aqui</a>.</p>
        <p>O conte√∫do deste site esta sob a licen√ßa <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="Licen√ßa CC BY NC SA 4.0">CC BY NC SA 4.0</a>.</p>
    </div>
</footer>
</html>